<html>
    <body class="bg">
        <div class="loginScreen" style="position:absolute;right:40%;bottom:40%;animation-fill-mode: forwards;">
            <label for="username">UserName:</label><br>
            <input type="text" id="username" value=""><br>
            <label for="password">Password:</label><br>
            <input type="text" id="password" value="">
            
            <div id="error"></div><br><br>
            <button class="login">Login</button><br><br>
            <a href="#" class="dont">Don't Have An Account?</a>

        </div>
    
        <div class="registerScreen" style="position:absolute;right:40%;bottom:40%;animation-fill-mode: forwards;">
            <label for="username">UserName:</label><br>
            <input type="text" id="newusername" value=""><br>
            <label for="email">Email</label><br>
            <input type="text" id="newemail" value=""><br>
            <label for="password">Password:</label><br>
            <input type="text" id="newpassword" value=""><br>
            <label for="confirmPassword">Confirm Password:</label><br>
            <input type="text" id="confirmPassword" value="">
    
            <div id="error2" style="color:white;font-size:26px;z-index:10;"></div><br><br>
            <button class="register">Register</button><br><br>
            <a href="#" class="already">Already Have An Account?</a>
        </div>
    </body>
</html>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        $('.login').on('click', function(event) {
            var user = (document.getElementById("username").value)
            var pass = (document.getElementById("password").value)
            $.ajax({
                data : {
                    username : user,
                    password : pass
                },
                type : 'POST',
                url : '/login'
            })
            .done(function(data) {
                if (data.error) {
                    $('#errorAlert').text(data.error).show();
                    console.log("ERROR")
                    document.getElementsByClassName("error")[0].innerHTML = data.error
                    $('#successAlert').hide();
                }
                else {
                    $('#successAlert').text(data.name).show();
                    document.getElementById("error").innerHTML = data
                    if (data == "SUCCESS") {
                        window.location = "/";
                    }
                    $('#errorAlert').hide();
                }
            });
            event.preventDefault();
        });
        $('.register').on('click', function(event) {
            var user = (document.getElementById("newusername").value)
            var pass = (document.getElementById("newpassword").value)
            var email = (document.getElementById("newemail").value)
            console.log(email)
            $.ajax({
                data : {
                    username : user,
                    password : pass,
                    email : email
                },
                type : 'POST',
                url : '/register'
            })
            .done(function(data) {
                if (data.error) {
                    $('#errorAlert').text(data.error).show();
                    console.log("ERROR")
                    document.getElementsByClassName("error")[0].innerHTML = data.error
                    $('#successAlert').hide();
                }
                else {
                    $('#successAlert').text(data.name).show();
                    document.getElementById("error2").innerHTML = data;
                    console.log(document.getElementById("error").innerHTML)
                    if (data == "SUCCESS") {
                        window.location = "/";
                    }
                    $('#errorAlert').hide();
                }
            });
            event.preventDefault();
        });
        $('.already').on('click', function(event) {
            document.getElementsByClassName("loginScreen")[0].style.visibility="visible";
            document.getElementsByClassName("registerScreen")[0].style.visibility="visible";
            document.getElementsByClassName("registerScreen")[0].style.animation = "fadeout 0.3s";
            document.getElementsByClassName("registerScreen")[0].style.animationFillMode="forwards";
            document.getElementsByClassName("loginScreen")[0].style.animation = "fadein 0.3s";
            document.getElementsByClassName("loginScreen")[0].style.animationFillMode="forwards";
            setTimeout(hideRegister, 500)
        });
        $('.dont').on('click', function(event) {
            console.log('Hello')
            document.getElementsByClassName("registerScreen")[0].style.visibility="visible";
            document.getElementsByClassName("loginScreen")[0].style.visibility="visible";
            document.getElementsByClassName("registerScreen")[0].style.animation = "fadein 0.3s";
            document.getElementsByClassName("registerScreen")[0].style.animationFillMode="forwards";
            document.getElementsByClassName("loginScreen")[0].style.animation = "fadeout 0.3s";
            document.getElementsByClassName("loginScreen")[0].style.animationFillMode="forwards";
            setTimeout(hideLogin, 500)
        });
    });
    function updateBack() {
        document.getElementsByClassName("bg")[0].animation = "back 1s;";
    }
    function hideLogin() {
        document.getElementsByClassName("loginScreen")[0].style.visibility="hidden";
    }
    function hideRegister() {
        document.getElementsByClassName("registerScreen")[0].style.visibility="hidden";
    }
    updateBack
</script>


<style>
    body, html {
        height: 100%;
        margin: 0;
      }
      
      .bg {
        /* The image used */
        background-image: url("../static/login_background.jpg");
      
        /* Full height */
        height: 100%;
        animation: none 25s infinite;
      
        /* Center and scale the image nicely */
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        
      }

    @keyframes back {
        0% {background-image: url("../static/background1.jpeg");}
        20% {background-image: url("../static/background1.jpeg");}
        25% {background-image: url("../static/background2.jpg");}
        45% {background-image: url("../static/background2.jpg");}
        50% {background-image: url("../static/background3.png");}
        70% {background-image: url("../static/background3.png");}
        75% {background-image: url("../static/background4.jpeg");}
        95% {background-image: url("../static/background4.jpeg");}
        100% {background-image: url("../static/background1.jpeg");}

    }
    .loginScreen {
        height: 25%;
        width:20%;
        padding: 35px;
        background-image: radial-gradient(
            farthest-corner at 40px 40px,
            #ffffff 0%,
            #808080 100%
          );
        border-radius: 15px;
    }
    .registerScreen {
        font-family:Marker Felt;
        color:white;
        text-align:center;
        height: 50%;
        width:30%;
        padding: 35px;
        background-image: linear-gradient(#dd2476, orange);
        
        border-radius: 15px;
    }
    
    @keyframes fadeout {
        from {opacity:1.0;}
        to {opacity:0.0;}
    }
    @keyframes fadein {
        from {opacity:0.0;}
        to {opacity:1.0;}
    }
    #signupTitle{
        font-size: 35px;
        
        
    }
    .usernameLabel{
        margin-right:28%;
        margin-top:5%;
    }
    .emailLabel{
        margin-right:34%;
        margin-top:1%;
    }
    .passwordLabel{
        margin-right:29%;
        margin-top:1%;
    }
    .confirmPasswordLabel{
        margin-right:15%;
        margin-top:1%;
        
    }
    .register{
        margin-top:-7%;
        
    }
    .usernameInput{
        background-color:black;
    }
    .emailInput{

    }
    .passwordInput{

    }
    .confirmInput{

    }
    #confirmPassword{
        
        border: 3px solid purple;
        border-radius: 8px;
        height:30px;
    }
    #newusername{
        border: 3px solid purple;
        border-radius: 8px;
        height:30px;
    }
    #newemail{
        border: 3px solid purple;
        border-radius: 8px;
        height:30px;
    }
    #newpassword{
        border: 3px solid purple;
        border-radius: 8px;
        height:30px;
        
    }
    #buttonTech{

        display: inline-block;
        outline: none;
        cursor: pointer;
        font-size: 14px;
        line-height: 1;
        border-radius: 500px;
        transition-property: background-color,border-color,color,box-shadow,filter;
        transition-duration: .3s;
        border: 1px solid transparent;
        letter-spacing: 2px;
        min-width: 160px;
        text-transform: uppercase;
        white-space: normal;
        font-weight: 700;
        text-align: center;
        padding: 16px 14px 18px;
        color: white;
        background-color: purple;
        height: 48px;
        :hover{
            background-color: #1db954;
        }
    
    }
    
</style>